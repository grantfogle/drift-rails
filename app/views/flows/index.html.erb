<section class="container mx-auto flex flex-col">

    <% if Current.user %>
        <p class="text-lg mb-3">Hello, <%= @user.email %></p>
    <% end %>

    <h1 class="text-4xl mb-3">Stream Flows</h1>

    <h2 class="text-lg mb-3"><%= Flow.public_count %> public streams and counting!</h2>

    <%= form_with(url: flows_path, method: :get) do |form| %>
        <%= form.text_field :query, 
            placeholder: "Search a stream",
            value: params[:query], 
            data: {controller: "flow-search",
            action: "input->flow-search#search"},
            class: "w-[400px] border-2 border-gray-200 rounded p-2" %>
    <% end %>

    <table class="table-auto">
        <thead class="bg-gray-50 border-b-2 border-gray-200 h-[60px] font-bold">
            <td class="px-4">Name</td>
            <td class="px-4">Location</td>
            <td class="px-4">State</td>
            <td class="px-4">Flow</td>
        </thead>
        <%= render "flows", flows: @flows %>
    </table>
    <hr>
    <%= link_to "Add Stream Flow", new_flow_path, class: "mt-[40px] w-[200px] text-center bg-blue-500 hover:bg-orange-500 text-white font-bold py-2 px-4 rounded" %>

</section>