<tbody id="flows-table">
    <% flows.each do |flow| %>
        <% unless flow.archived? %>
            <tr class="odd:bg-white even:bg-slate-50 h-[60px]">
            <td class="px-4 text-center text-yellow-500">
                <% if Current.user %>
                    <!--TODO: CREATE A REUSABLE FLOWS COMPONENT -->
                    <% if Current.user.favorite_flows.include?(flow) %>
                        <button type="button" 
                            data-reflex="click->FavoritesReflex#add_favorite"
                            data-flow-id="<%= flow.id %>"
                            title="Unfavorite"
                            class="text-lg hover:underline focus:outline-none hover:cursor-pointer">
                            <i class="fas fa-star fa-xl"></i>
                        </button>
                    <% else %>
                        <button type="button" 
                            data-reflex="click->FavoritesReflex#remove_favorite"
                            data-flow-id="<%= flow.id %>"
                            title="Unfavorite"
                            class="text-lg hover:underline focus:outline-none hover:cursor-pointer">
                            <i class="fa-regular fa-star fa-xl"></i>
                        </button>
                    <% end %>
                <% end %>
                </td>
                <td class="px-4 align-middle"><%= link_to flow.name, flow, class: "text-blue-600 no-underline hover:underline" %></td>
                <td class="px-4 align-middle"><%= flow.stream %></td>
                <td class="px-4 align-middle"><%= flow.location %>, <%= flow.state %></td>
                <td class="px-4 align-middle"><%= flow.flow %></td>
            </tr>
        <% end %>
    <% end %>
</tbody>